-- ==================================================
-- SQL 서브쿼리 예제 정리
-- 이 파일은 서브쿼리를 활용하여 고객 및 주문 관련 정보를 조회하는 예제들입니다.
-- 각 쿼리별로 처리 목적과 예상 결과 예시를 주석으로 설명합니다.
-- ==================================================

---------------------------------------------------------
-- [예제 1] 최대 마일리지를 가진 고객 정보 조회
-- 목적: 고객 테이블에서 전체 고객 중 가장 높은 마일리지를 가진 고객의
--       고객번호, 고객회사명, 담당자명, 마일리지를 조회합니다.
SELECT 고객번호,
       고객회사명,
       담당자명,
       마일리지
FROM 고객
WHERE 마일리지 = (SELECT MAX(마일리지)
                  FROM 고객);

/*
[예상 결과 예시]
-------------------------------------------------------
| 고객번호 | 고객회사명    | 담당자명 | 마일리지      |
-------------------------------------------------------
| C010     | ABC Corp      | 홍길동   | 12000         |
-------------------------------------------------------
(예시: 전체 고객 중 최대 마일리지를 가진 고객의 정보가 출력됨)
*/

---------------------------------------------------------
-- [예제 2] 특정 주문번호 'H0250'에 해당하는 고객 정보 조회
-- 목적: 주문 테이블에서 주문번호 'H0250'에 해당하는 고객번호를 찾은 후,
--       해당 고객의 고객회사명과 담당자명을 조회합니다.
SELECT 고객회사명,
       담당자명
FROM 고객
WHERE 고객번호 = (SELECT 고객번호
                  FROM 주문
                  WHERE 주문번호 = 'H0250');

/*
[예상 결과 예시]
-------------------------------------------------------
| 고객회사명  | 담당자명   |
-------------------------------------------------------
| DEF Corp    | 이순신     |
-------------------------------------------------------
(예시: 주문번호 'H0250'에 해당하는 고객의 정보가 출력됨)
*/

---------------------------------------------------------
-- [예제 3] 부산광역시 고객 중 최소 마일리지보다 큰 고객 정보 조회
-- 목적: 부산광역시에 위치한 고객들 중 최소 마일리지 값보다 큰 마일리지를 가진 고객의
--       담당자명, 고객회사명, 마일리지를 조회합니다.
SELECT 담당자명,
       고객회사명,
       마일리지
FROM 고객
WHERE 마일리지 > (SELECT MIN(마일리지)
                  FROM 고객
                  WHERE 도시 = '부산광역시');

/*
[예상 결과 예시]
-------------------------------------------------------
| 담당자명  | 고객회사명   | 마일리지      |
-------------------------------------------------------
| 김철수    | XYZ Inc      | 10500         |
| 박민수    | LMN Corp     | 11000         |
-------------------------------------------------------
(예시: 부산광역시 고객 중 최소 마일리지보다 큰 마일리지를 가진 고객의 정보가 출력됨)
*/
