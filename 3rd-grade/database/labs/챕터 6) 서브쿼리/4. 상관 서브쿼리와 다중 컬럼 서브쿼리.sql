-- [상관 서브쿼리]
-- 목적: 각 사원의 상사 이름을 동일 테이블에서 조회
-- 핵심: 메인 쿼리의 각 행에서 상사번호를 참조하는 상관 서브쿼리 사용
# 상관 서브쿼리
SELECT 사원번호,
       이름,
       상사번호,
       (
       SELECT 이름
       FROM 사원 AS 상사
       WHERE 상사.사원번호 = 사원.상사번호
       ) AS 상사이름
FROM 사원;

/*
[예상결과]
----------------------------------------------------
| 사원번호 | 이름     | 상사번호 | 상사이름         |
----------------------------------------------------
| 3002     | 이영희   | 3001     | 홍길동           |
| 3003     | 김미영   | 3001     | 홍길동           |
| 3001     | 홍길동   | NULL     | NULL             |
... (기타 사원별 상사 정보)
*/

-- [다중 컬럼 서브쿼리]
-- 목적: 각 도시별 최고 마일리지 고객을 조회
-- 핵심: (컬럼1, 컬럼2) IN 서브쿼리로 다중 컬럼 비교
# 다중 컬럼 서브쿼리
SELECT 도시,
       담당자명,
       고객회사명,
       마일리지
FROM 고객
WHERE (도시, 마일리지) IN (
                       SELECT 도시, MAX(마일리지)
                       FROM 고객
                       GROUP BY 도시
                       );

/*
[예상결과]
----------------------------------------------------
| 도시       | 담당자명 | 고객회사명 | 마일리지 |
----------------------------------------------------
| 서울특별시 | 홍길동   | ABC Corp  | 8000     |
| 부산광역시 | 김철수   | XYZ Inc   | 6500     |
... (각 도시별 최고 마일리지 고객 정보)
*/
